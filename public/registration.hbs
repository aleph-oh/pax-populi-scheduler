<link href="/stylesheets/availability_selection.css" rel="stylesheet">
<script src="/javascripts/vendor/jquery-3.1.1.min.js"></script><!-- load jquery -->
<script src="/javascripts/vendor/angular.min.js"></script><!-- load angular -->
<script src="/javascripts/vendor/availabilitySelection.js" type="text/javascript"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js""></script>
<script type="text/javascript">
    $j = jQuery.noConflict(true);
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/javascripts/index.js" type="text/javascript"></script>
<script src="/javascripts/submitRegistration.js" type="text/javascript"></script>
<script src='/javascripts/registration.js'></script>
<div class='tab-content'>
    {{#if onHold}}
        <div id='message-container'>
            You do not have the permisson to register for a class yet. You have to wait for either the next cycle or further notice from the adminstrator.
        </div>
    {{else}}
    <h1>Submit Your Availability</h1>
        <p>To indicate times when you are free for a tutoring session, click on a rectangle on the schedule. Click twice on a particular rectangle to select a single time,or to select a range, click once on a rectangle at a starting time you are free and drag your cursor within the column to mark a time range in which you are free and click again on the last rectangle in the range to complete marking the range. Any blocks that are blue when you submit will be considered as possible meeting times!
        </p>
    <div ng-app="registration">
        <div ng-controller="mainController">
            <div id="day-schedule"></div>
            <!-- calander UI is populated here -->
            <div class="regError" id="availabiltyError"></div>
            <br>
            <form>
                <input type="hidden" id='csrf' name="_csrf" value="{{csrfToken}}">
                <input type="hidden" id='username' name="username" value="{{username}}">
                <div class='row'>
                    <div class="form-group col-md-6">
                        <div class='mulitple-choice'>
                            <div class="form-group">
                                <label class="control-label">Select Courses You're Interested In</label>
                                    <div>
                                      <select id="courses" multiple name='courses' class='form-control signup-input choices'>
                                        {{#each courses}}
                                        <option>{{this}}</option>
                                      {{/each}}
                                      </select>
                                    </div>
                                    <div class="regError" id="coursesError"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="control-label">{{#if isTutor}}Student's {{else}}Tutor's{{/if}} gender preference.</label>
                        <div>
                            <select name='genderPref' class='form-control' id="genderPref">
                                <option value="NONE">No Preference</option>
                                <option value="MALE">Male</option>
                                <option value="FEMALE">Female</option>
                            </select>
                        </div>
                        <div class="regError" id="genderPrefError"></div>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="control-label">What is Your Earliest Possible Start Date?</label>
                        <div>
                            <input id='earliestStartTime' class='form-control' type='date' name='earliestStartTime' placeholder='earliestStartTime' required></input>
                        </div>
                    </div>
                    <div class="regError" id="startTimeError"></div>
                </div>
                <div class="form-group">
                        <input type="button" value="Submit" class='btn btn-primary btn-lg' id="target" ng-click="submitRegistration()">
                </div>
            </form>
        </div>
    </div>
    {{/if}}
</div>